[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../common'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'assert'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"dns"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'dns'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"addresses"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../common/internet'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"hostname"},{"type":"Punctuator","value":":"},{"type":"String","value":"'straße.de'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"expectedAddress"},{"type":"Punctuator","value":":"},{"type":"String","value":"'81.169.145.78'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"dnsServer"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"addresses"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"DNS4_SERVER"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"dns"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"setServers"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"dnsServer"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"dns"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"lookup"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"hostname"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"address"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"errno"},{"type":"Punctuator","value":"==="},{"type":"String","value":"'ESERVFAIL'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ok"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"message"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"includes"},{"type":"Punctuator","value":"("},{"type":"String","value":"'queryA ESERVFAIL straße.de'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ifError"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"address"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"expectedAddress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"dns"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"lookup"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"hostname"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"address"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"address"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"expectedAddress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"errno"},{"type":"Punctuator","value":"==="},{"type":"String","value":"'ESERVFAIL'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ok"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"message"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"includes"},{"type":"Punctuator","value":"("},{"type":"String","value":"'queryA ESERVFAIL straße.de'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"throw"},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Keyword","value":"finally"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"dns"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resolve4"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"hostname"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"addresses"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ifError"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"deepStrictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"addresses"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"expectedAddress"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"p"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"dns"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"Resolver"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resolve4"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"hostname"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"p"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"addresses"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"deepStrictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"addresses"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"fixture"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"expectedAddress"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"}]