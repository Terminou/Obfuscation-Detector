[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"fs"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'fs'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'path'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"shell"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'shelljs'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'semver'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"_"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'lodash'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"process"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'process'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"NO_REMOTE_REQUESTS"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"!"},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"process"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"env"},{"type":"Punctuator","value":"["},{"type":"String","value":"'NG1_BUILD_NO_REMOTE_VERSION_REQUESTS'"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"versionSource"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"NO_REMOTE_REQUESTS"},{"type":"Punctuator","value":"?"},{"type":"String","value":"'local'"},{"type":"Punctuator","value":":"},{"type":"String","value":"'remote'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"previousVersions"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getPackage"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"packageFolder"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":"("},{"type":"String","value":"'.'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"while"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"fs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"existsSync"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"join"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"packageFolder"},{"type":"Punctuator","value":","},{"type":"String","value":"'package.json'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"parent"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"dirname"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"packageFolder"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"parent"},{"type":"Punctuator","value":"==="},{"type":"Identifier","value":"packageFolder"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"break"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"packageFolder"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"parent"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"JSON"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"parse"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"fs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"readFileSync"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"join"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"packageFolder"},{"type":"Punctuator","value":","},{"type":"String","value":"'package.json'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"String","value":"'UTF-8'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getGitRepoInfo"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"GITURL_REGEX"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/^https:\\/\\/github.com\\/([^/]+)\\/(.+).git$/","regex":{"pattern":"^https:\\/\\/github.com\\/([^/]+)\\/(.+).git$","flags":""}},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"match"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"GITURL_REGEX"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"exec"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"repository"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"url"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"git"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"owner"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"match"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"repo"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"match"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"git"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getCodeName"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tagName"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"gitCatOutput"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"shell"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"exec"},{"type":"Punctuator","value":"("},{"type":"String","value":"'git cat-file -p '"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"tagName"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"silent"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"stdout"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"tagMessage"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"gitCatOutput"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"match"},{"type":"Punctuator","value":"("},{"type":"RegularExpression","value":"/^.*codename.*$/mg","regex":{"pattern":"^.*codename.*$","flags":"mg"}},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"codeName"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"tagMessage"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"tagMessage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"match"},{"type":"Punctuator","value":"("},{"type":"RegularExpression","value":"/codename\\((.*)\\)/","regex":{"pattern":"codename\\((.*)\\)","flags":""}},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"codeName"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"throw"},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Error"},{"type":"Punctuator","value":"("},{"type":"String","value":"'Could not extract release code name. The message of tag '"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"tagName"},{"type":"Punctuator","value":"+"},{"type":"String","value":"' must match \\'*codename(some release name)*\\''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"codeName"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"getBuild"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"hash"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"shell"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"exec"},{"type":"Punctuator","value":"("},{"type":"String","value":"'git rev-parse --short HEAD'"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"silent"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"stdout"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"replace"},{"type":"Punctuator","value":"("},{"type":"String","value":"'\\n'"},{"type":"Punctuator","value":","},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"String","value":"'sha.'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"hash"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"checkBranchPattern"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"branchPattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"slice"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"branchPattern"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":"-"},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"==="},{"type":"Identifier","value":"branchPattern"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"replace"},{"type":"Punctuator","value":"("},{"type":"String","value":"'*'"},{"type":"Punctuator","value":","},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getTaggedVersion"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"gitTagResult"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"shell"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"exec"},{"type":"Punctuator","value":"("},{"type":"String","value":"'git describe --exact-match'"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"silent"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"gitTagResult"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"code"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"gitTagResult"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"stdout"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"trim"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"parse"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"checkBranchPattern"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branchPattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"codeName"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getCodeName"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"full"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branch"},{"type":"Punctuator","value":"="},{"type":"String","value":"'v'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branchPattern"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"replace"},{"type":"Punctuator","value":"("},{"type":"String","value":"'*'"},{"type":"Punctuator","value":","},{"type":"String","value":"'x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"return"},{"type":"Null","value":"null"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getPreviousVersions"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"repo_url"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"repository"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"url"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"query"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"NO_REMOTE_REQUESTS"},{"type":"Punctuator","value":"?"},{"type":"String","value":"'git tag'"},{"type":"Punctuator","value":":"},{"type":"String","value":"'git ls-remote --tags '"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"repo_url"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"tagResults"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"shell"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"exec"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"query"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"silent"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tagResults"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"code"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"_"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tagResults"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"stdout"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"match"},{"type":"Punctuator","value":"("},{"type":"RegularExpression","value":"/v[0-9].*[0-9]$/mg","regex":{"pattern":"v[0-9].*[0-9]$","flags":"mg"}},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"map"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"parse"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"filter"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"map"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"major"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minor"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prerelease"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":">"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"||"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"major"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minor"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prerelease"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"==="},{"type":"String","value":"'rc1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"major"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minor"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"patch"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"join"},{"type":"Punctuator","value":"("},{"type":"String","value":"'.'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prerelease"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"join"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"raw"},{"type":"Punctuator","value":"="},{"type":"String","value":"'v'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"docsUrl"},{"type":"Punctuator","value":"="},{"type":"String","value":"'http://code.angularjs.org/'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'/docs'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"major"},{"type":"Punctuator","value":"<"},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"||"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"major"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minor"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"patch"},{"type":"Punctuator","value":"<"},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"docsUrl"},{"type":"Punctuator","value":"+="},{"type":"String","value":"'-'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"isOldDocsUrl"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"sort"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compare"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getCdnVersion"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"_"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"previousVersions"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"filter"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"satisfies"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branchVersion"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"reverse"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"reduce"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"NO_REMOTE_REQUESTS"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"cdnResult"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"shell"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"exec"},{"type":"Punctuator","value":"("},{"type":"String","value":"'curl http://ajax.googleapis.com/ajax/libs/angularjs/'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'/angular.min.js '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'--head --write-out \"%{http_code}\" -silent'"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"silent"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"cdnResult"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"code"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"statusCode"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"cdnResult"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"stdout"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"split"},{"type":"Punctuator","value":"("},{"type":"String","value":"'\\n'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pop"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"trim"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"statusCode"},{"type":"Punctuator","value":"==="},{"type":"String","value":"'200'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Null","value":"null"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"getSnapshotVersion"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"_"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"previousVersions"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"filter"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"satisfies"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"tag"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branchVersion"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"last"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branchPattern"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"replace"},{"type":"Punctuator","value":"("},{"type":"String","value":"'*'"},{"type":"Punctuator","value":","},{"type":"String","value":"'0-beta.1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"semver"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"raw"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"jenkinsBuild"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"process"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"env"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"TRAVIS_BUILD_NUMBER"},{"type":"Punctuator","value":"||"},{"type":"Identifier","value":"process"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"env"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"BUILD_NUMBER"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prerelease"},{"type":"Punctuator","value":"||"},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prerelease"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"patch"},{"type":"Punctuator","value":"++"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prerelease"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jenkinsBuild"},{"type":"Punctuator","value":"?"},{"type":"Punctuator","value":"["},{"type":"String","value":"'build'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"jenkinsBuild"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"String","value":"'local'"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"build"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getBuild"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"codeName"},{"type":"Punctuator","value":"="},{"type":"String","value":"'snapshot'"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"isSnapshot"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"format"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"full"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'+'"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"build"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"branch"},{"type":"Punctuator","value":"="},{"type":"String","value":"'master'"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"distTag"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"distTag"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"exports"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"currentPackage"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getPackage"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"exports"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"gitRepoInfo"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getGitRepoInfo"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"exports"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"previousVersions"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"previousVersions"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getPreviousVersions"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"exports"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getCdnVersion"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"exports"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"currentVersion"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"getTaggedVersion"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"||"},{"type":"Identifier","value":"getSnapshotVersion"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"NO_REMOTE_REQUESTS"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"'=============================================================================================='"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"'Running with no remote requests for version data:'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"' - this is due to the \"NG1_BUILD_NO_REMOTE_VERSION_REQUESTS\" environment variable being defined.'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"' - be aware that the generated docs may not have valid or the most recent version information.'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"'=============================================================================================='"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"'CDN version ('"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"versionSource"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'):'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":"?"},{"type":"Identifier","value":"cdnVersion"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"raw"},{"type":"Punctuator","value":":"},{"type":"String","value":"'No version found.'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"console"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"log"},{"type":"Punctuator","value":"("},{"type":"String","value":"'Current version ('"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"versionSource"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'):'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"exports"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"currentVersion"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"raw"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"}]