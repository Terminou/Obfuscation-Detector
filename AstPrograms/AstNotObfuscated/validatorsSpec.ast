[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'validators'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"generateInputCompilerHelper"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"beforeEach"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inject"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"_$rootScope_"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"_$rootScope_"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'pattern'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate in-lined pattern'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-pattern=\"/^\\\\d\\\\d\\\\d-\\\\d\\\\d-\\\\d\\\\d\\\\d\\\\d$/\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'x000-00-0000x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'000-00-0000'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'000-00-0000x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'123-45-6789'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should listen on ng-pattern when pattern is observed'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"patternVal"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/^\\w+$/","regex":{"pattern":"^\\w+$","flags":""}},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-pattern=\"pat\" attr-capture />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"attrs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$observe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'pattern'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"v"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"attrs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pat"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"patternVal"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"patternVal"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate in-lined pattern with modifiers'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-pattern=\"/^abc?$/i\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aB'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'xx'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate pattern from scope'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"regexp"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/^\\d\\d\\d-\\d\\d-\\d\\d\\d\\d$/","regex":{"pattern":"^\\d\\d\\d-\\d\\d-\\d\\d\\d\\d$","flags":""}},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-pattern=\"regexp\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'x000-00-0000x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'000-00-0000'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'000-00-0000x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'123-45-6789'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'x'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"regexp"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/abc?/","regex":{"pattern":"abc?","flags":""}},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ab'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'xx'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should perform validations when the ngPattern scope value changes'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"regexp"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/^[a-z]+$/","regex":{"pattern":"^[a-z]+$","flags":""}},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-pattern=\"regexp\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'abcdef'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'123'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"regexp"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/^\\d+$/","regex":{"pattern":"^\\d+$","flags":""}},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'abcdef'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"regexp"},{"type":"Punctuator","value":"="},{"type":"String","value":"''"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should register \"pattern\" with the model validations when the pattern attribute is used'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" pattern=\"^\\\\d+$\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'abcd'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should not throw an error when scope pattern can\\'t be found'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"foo\" ng-pattern=\"fooRegexp\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'foo = \\'bar\\''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toThrow"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should throw an error when the scope pattern is not a regular expression'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"foo\" ng-pattern=\"fooRegexp\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fooRegexp"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"foo"},{"type":"Punctuator","value":"="},{"type":"String","value":"'bar'"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toThrowMinErr"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngPattern'"},{"type":"Punctuator","value":","},{"type":"String","value":"'noregexp'"},{"type":"Punctuator","value":","},{"type":"String","value":"'Expected fooRegexp to be a RegExp but was'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should be invalid if entire string does not match pattern'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"test\" ng-model=\"value\" pattern=\"\\\\d{4}\">'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'1234'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'123'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should be cope with patterns that start with ^'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"test\" ng-model=\"value\" pattern=\"^\\\\d{4}\">'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'1234'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'123'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should be cope with patterns that end with $'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"test\" ng-model=\"value\" pattern=\"\\\\d{4}$\">'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'1234'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'123'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate the viewValue and not the modelValue'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"test\" ng-model=\"value\" pattern=\"\\\\d{4}\">'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$parsers"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"*"},{"type":"Numeric","value":"10"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"+"},{"type":"String","value":"''"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'1234'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$modelValue"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12340'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate on non-input elements'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"inject"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":"="},{"type":"String","value":"'\\\\d{4}'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" pattern=\"\\\\d{4}\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" ng-pattern=\"pattern\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should only validate once after compilation when inside ngRepeat'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/\\d{4}/","regex":{"pattern":"\\d{4}","flags":""}},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" pattern=\"\\\\d{4}\" validation-spy=\"pattern\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-pattern=\"pattern\" validation-spy=\"pattern\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pattern"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'minlength'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should invalidate values that are shorter than the given minlength'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-minlength=\"3\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aa'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aaa'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should listen on ng-minlength when minlength is observed'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-minlength=\"min\" attr-capture />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"attrs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$observe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'minlength'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"v"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"toInt"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"attrs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'min = 5'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"5"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should observe the standard minlength attribute and register it as a validator on the model'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" minlength=\"{{ min }}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'min = 10'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'min = 5'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate when the model is initialized as a number'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"12345"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" minlength=\"3\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"12345"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate emptiness against the viewValue'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" minlength=\"3\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"spyOn"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":","},{"type":"String","value":"'$isEmpty'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"and"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"callThrough"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$parsers"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'678'"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$isEmpty"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toHaveBeenCalledWith"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate on non-input elements'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"inject"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"min"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"3"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" minlength=\"{{min}}\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" ng-minlength=\"min\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should only validate once after compilation when inside ngRepeat'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"5"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"element"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" minlength=\"{{minlength}}\" validation-spy=\"minlength\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"element"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-minlength=\"minlength\" validation-spy=\"minlength\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"minlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should invalidate values that are longer than the given maxlength'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-maxlength=\"5\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aaaaaaaa'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aaa'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should only accept empty values when maxlength is 0'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-maxlength=\"0\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'a'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should accept values of any length when maxlength is negative'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-maxlength=\"-1\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aaaaaaaaaa'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should accept values of any length when maxlength is non-numeric'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-maxlength=\"maxlength\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'aaaaaaaaaa'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength = \"5\"'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength = \"abc\"'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength = \"\"'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength = null'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"someObj"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength = someObj'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should listen on ng-maxlength when maxlength is observed'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-maxlength=\"max\" attr-capture />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"attrs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$observe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'maxlength'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"v"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"toInt"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"attrs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 10'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"10"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should observe the standard maxlength attribute and register it as a validator on the model'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" maxlength=\"{{ max }}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 6'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should assign the correct model after an observed validator became valid'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" maxlength=\"{{ max }}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 6'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should assign the correct model after an observed validator became invalid'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" maxlength=\"{{ max }}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 6'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should leave the value as invalid if observed maxlength changed, but is still invalid'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" maxlength=\"{{ max }}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 3'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should not notify if observed maxlength changed, but is still invalid'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" ng-change=\"ngChangeSpy()\" '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'maxlength=\"{{ max }}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ngChangeSpy"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jasmine"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"createSpy"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'max = 3'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ngChangeSpy"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toHaveBeenCalled"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should leave the model untouched when validating before model initialization'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" minlength=\"3\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate when the model is initialized as a number'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"12345"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" maxlength=\"10\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"12345"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"form"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate emptiness against the viewValue'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" maxlength=\"10\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"spyOn"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":","},{"type":"String","value":"'$isEmpty'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"and"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"callThrough"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$parsers"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'678'"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$isEmpty"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toHaveBeenCalledWith"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate on non-input elements'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"inject"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"max"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"3"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" maxlength=\"{{max}}\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" ng-maxlength=\"max\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"'1234'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"'1234'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should only validate once after compilation when inside ngRepeat'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"5"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"element"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" maxlength=\"{{maxlength}}\" validation-spy=\"maxlength\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"element"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-maxlength=\"maxlength\" validation-spy=\"maxlength\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"maxlength"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'required'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should allow bindings via ngRequired'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-required=\"required\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'required = false'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'required = true'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'value = \\'some\\''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'required = false'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should invalid initial value with bound required'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" required=\"{{required}}\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'required = true'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should be $invalid but $pristine if not touched'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"name\" name=\"alias\" required />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'name = null'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBePristine"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeDirty"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should allow empty string if not required'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"foo\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'a'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"foo"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should set $invalid when model undefined'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"notDefined\" required />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should consider bad input as an error before any other errors are considered'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" required />'"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"badInput"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$parsers"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"undefined"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'abc123'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"parse"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toHaveClass"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ng-invalid-parse'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should allow `false` as a valid value when the input type is not \"checkbox\"'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"radio\" ng-value=\"true\" ng-model=\"answer\" required />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"radio\" ng-value=\"false\" ng-model=\"answer\" required />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeInvalid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'answer = true'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$apply"},{"type":"Punctuator","value":"("},{"type":"String","value":"'answer = false'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate emptiness against the viewValue'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" name=\"input\" ng-model=\"value\" required />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"spyOn"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":","},{"type":"String","value":"'$isEmpty'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"and"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"callThrough"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$parsers"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'678'"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"changeInputValueTo"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$isEmpty"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toHaveBeenCalledWith"},{"type":"Punctuator","value":"("},{"type":"String","value":"'12345'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate on non-input elements'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"inject"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"String","value":"'12'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" required></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<span ng-model=\"value\" ng-required=\"true\"></span>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"elmNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"controller"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ngModel'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$setViewValue"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"ctrlNg"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should override \"required\" when ng-required=\"false\" is set'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<input type=\"text\" ng-model=\"notDefined\" required ng-required=\"false\" />'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"inputElm"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeValid"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate only once after compilation when inside ngRepeat'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" required validation-spy=\"required\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate only once after compilation when inside ngRepeat and ngRequired is true'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"isRequired"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-required=\"isRequired\" validation-spy=\"required\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate only once after compilation when inside ngRepeat and ngRequired is false'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"isRequired"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-model=\"value\" ng-required=\"isRequired\" validation-spy=\"required\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate once when inside ngRepeat, and set the \"required\" error when ngRequired is false by default'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"isRequired"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"refs"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"elm"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-repeat=\"input in [0]\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<input type=\"text\" ng-ref=\"refs.input\" ng-ref-read=\"ngModel\" ng-model=\"value\" ng-required=\"isRequired\" validation-spy=\"required\" />'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"refs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeUndefined"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'should validate only once when inside ngIf with required on non-input elements'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"inject"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$compile"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"String","value":"'12'"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"refs"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"compileInput"},{"type":"Punctuator","value":"("},{"type":"String","value":"'<div ng-if=\"true\"><span ng-model=\"value\" ng-ref=\"refs.ctrl\" ng-ref-read=\"ngModel\" required validation-spy=\"required\"></span></div>'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$digest"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"validationCounter"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"refs"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ctrl"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$error"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"required"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"}]