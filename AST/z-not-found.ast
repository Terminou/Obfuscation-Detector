[{"type":"Keyword","value":"import"},{"type":"Identifier","value":"accepts"},{"type":"Identifier","value":"from"},{"type":"String","value":"'accepts'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"import"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"homeLocation"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"from"},{"type":"String","value":"'../../../config/env'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"export"},{"type":"Keyword","value":"default"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"fourOhFour"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"app"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"app"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"all"},{"type":"Punctuator","value":"("},{"type":"String","value":"'*'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"accept"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"accepts"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"type"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"accept"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"type"},{"type":"Punctuator","value":"("},{"type":"String","value":"'html'"},{"type":"Punctuator","value":","},{"type":"String","value":"'json'"},{"type":"Punctuator","value":","},{"type":"String","value":"'text'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"type"},{"type":"Punctuator","value":"==="},{"type":"String","value":"'html'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"flash"},{"type":"Punctuator","value":"("},{"type":"String","value":"'danger'"},{"type":"Punctuator","value":","},{"type":"Template","value":"`We couldn't find path ${"},{"type":"Identifier","value":"path"},{"type":"Template","value":"}`"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"redirectWithFlash"},{"type":"Punctuator","value":"("},{"type":"Template","value":"`${"},{"type":"Identifier","value":"homeLocation"},{"type":"Template","value":"}/404`"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"type"},{"type":"Punctuator","value":"==="},{"type":"String","value":"'json'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"("},{"type":"String","value":"'404'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"json"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"error"},{"type":"Punctuator","value":":"},{"type":"String","value":"'path not found'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"setHeader"},{"type":"Punctuator","value":"("},{"type":"String","value":"'Content-Type'"},{"type":"Punctuator","value":","},{"type":"String","value":"'text/plain'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"send"},{"type":"Punctuator","value":"("},{"type":"String","value":"'404 path not found'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"}]