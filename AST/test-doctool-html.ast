[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"common"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../common'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"try"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../../tools/node_modules/eslint/node_modules/js-yaml'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"catch"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"common"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"skip"},{"type":"Punctuator","value":"("},{"type":"String","value":"'missing js-yaml (eslint not present)'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'assert'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"readFile"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'fs'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"fixtures"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../common/fixtures'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../../tools/doc/html.js'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'path'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"module"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"paths"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"unshift"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"join"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"__dirname"},{"type":"Punctuator","value":","},{"type":"String","value":"'..'"},{"type":"Punctuator","value":","},{"type":"String","value":"'..'"},{"type":"Punctuator","value":","},{"type":"String","value":"'tools'"},{"type":"Punctuator","value":","},{"type":"String","value":"'doc'"},{"type":"Punctuator","value":","},{"type":"String","value":"'node_modules'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"unified"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'unified'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"markdown"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'remark-parse'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"remark2rehype"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'remark-rehype'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"raw"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'rehype-raw'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"htmlStringify"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'rehype-stringify'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"toHTML"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"filename"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"nodeVersion"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"cb"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"content"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"unified"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"markdown"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"firstHeader"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"preprocessText"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"preprocessElements"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"filename"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"buildToc"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"filename"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"apilinks"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"remark2rehype"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"allowDangerousHTML"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"raw"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"use"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"htmlStringify"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"processSync"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toHTML"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"content"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"filename"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"nodeVersion"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"cb"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"testData"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"fixtures"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"("},{"type":"String","value":"'sample_document.md'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":":"},{"type":"String","value":"'<ol><li>fish</li><li>fish</li></ol>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<ul><li>Redfish</li><li>Bluefish</li></ul>'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"fixtures"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"("},{"type":"String","value":"'order_of_end_tags_5873.md'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":":"},{"type":"String","value":"'<h3>ClassMethod: Buffer.from(array) <span> '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<a class=\"mark\" href=\"#foo_class_method_buffer_from_array\" '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'id=\"foo_class_method_buffer_from_array\">#</a> </span> </h3>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<ul><li><code>array</code><a '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Reference/Global_Objects/Array\" class=\"type\">&#x3C;Array></a></li></ul>'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"fixtures"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"("},{"type":"String","value":"'doc_with_yaml.md'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":":"},{"type":"String","value":"'<h1>Sample Markdown with YAML info'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<span><a class=\"mark\" href=\"#foo_sample_markdown_with_yaml_info\" '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"' id=\"foo_sample_markdown_with_yaml_info\">#</a></span></h1>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<h2>Foobar<span><a class=\"mark\" href=\"#foo_foobar\" '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'id=\"foo_foobar\">#</a></span></h2>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<div class=\"api_metadata\"><span>Added in: v1.0.0</span></div> '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<p>Describe <code>Foobar</code> in more detail here.</p>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<h2>Foobar II<span><a class=\"mark\" href=\"#foo_foobar_ii\" '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'id=\"foo_foobar_ii\">#</a></span></h2><div class=\"api_metadata\">'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<details class=\"changelog\"><summary>History</summary>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<table><tbody><tr><th>Version</th><th>Changes</th></tr>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<tr><td>v5.3.0, v4.2.0</td>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<td><p><span>Added in: v5.3.0, v4.2.0</span></p></td></tr>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<tr><td>v4.2.0</td><td><p>The <code>error</code> parameter can now be'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'an arrow function.</p></td></tr></tbody></table></details></div> '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<p>Describe <code>Foobar II</code> in more detail here.'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<a href=\"http://man7.org/linux/man-pages/man1/fg.1.html\"><code>fg(1)'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</code></a></p><h2>Deprecated thingy<span><a class=\"mark\" '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'href=\"#foo_deprecated_thingy\" id=\"foo_deprecated_thingy\">#</a>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</span></h2><div class=\"api_metadata\"><span>Added in: v1.0.0</span>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<span>Deprecated since: v2.0.0</span></div><p>Describe '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<code>Deprecated thingy</code> in more detail here.'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<a href=\"http://man7.org/linux/man-pages/man1/fg.1p.html\"><code>fg(1p)'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'</code></a></p><h2>Something<span><a class=\"mark\" href=\"#foo_something'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'\" id=\"foo_something\">#</a></span></h2> '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<!-- This is not a metadata comment --> '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<p>Describe <code>Something</code> in more detail here. </p>'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"fixtures"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"("},{"type":"String","value":"'sample_document.md'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":":"},{"type":"String","value":"'<ol><li>fish</li><li>fish</li></ol>'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'<ul><li>Red fish</li><li>Blue fish</li></ul>'"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"fixtures"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"path"},{"type":"Punctuator","value":"("},{"type":"String","value":"'altdocs.md'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":":"},{"type":"String","value":"'<li><a href=\"https://nodejs.org/docs/latest-v8.x/api/foo.html\">8.x'"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"spaces"},{"type":"Punctuator","value":"="},{"type":"RegularExpression","value":"/\\s/g","regex":{"pattern":"\\s","flags":"g"}},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"testData"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"forEach"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"expected"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"html"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"replace"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"spaces"},{"type":"Punctuator","value":","},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"readFile"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"file"},{"type":"Punctuator","value":","},{"type":"String","value":"'utf8'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"common"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ifError"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"toHTML"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"input"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"filename"},{"type":"Punctuator","value":":"},{"type":"String","value":"'foo'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"nodeVersion"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"process"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"version"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"common"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"output"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"=>"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"ifError"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"err"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"actual"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"output"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"replace"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"spaces"},{"type":"Punctuator","value":","},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"actual"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"includes"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"expected"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Template","value":"`ACTUAL: ${"},{"type":"Identifier","value":"actual"},{"type":"Template","value":"}\\nEXPECTED: ${"},{"type":"Identifier","value":"expected"},{"type":"Template","value":"}`"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"}]