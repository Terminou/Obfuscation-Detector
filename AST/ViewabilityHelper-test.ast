[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'ViewabilityHelper'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"let"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"let"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"index"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"number"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"frame"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"index"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"frame"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"offset"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"frame"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"index"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"number"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"boolean"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"index"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'computeViewableItems'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'returns all 4 entirely visible rows as viewable'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"d"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"150"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'d'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"3"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'returns top 2 rows as viewable (1. entirely visible and 2. majority)'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"150"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"d"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'d'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'returns only 2nd row as viewable (majority)'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"150"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"d"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'d'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"25"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'handles empty input'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'handles different view area coverage percent thresholds'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"150"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"500"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"d"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"700"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'d'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"let"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"199"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"400"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"600"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"3"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"10"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"30"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"31"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'handles different item visible percent thresholds'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"150"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"d"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'d'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"let"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"itemVisiblePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"itemVisiblePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"itemVisiblePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"10"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"184"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"20"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"185"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"20"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"computeViewableItems"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"186"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"20"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"describe"},{"type":"Punctuator","value":"("},{"type":"String","value":"'onUpdate'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'returns 1 visible row as viewable then scrolls away'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"50"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'returns 1st visible row then 1st and 2nd then just 2nd'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"3"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'minimumViewTime delays callback'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"minimumViewTime"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"350"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeCalled"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"runAllTimers"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"minimumViewTime"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"350"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'minimumViewTime skips briefly visible items'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"minimumViewTime"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"350"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"250"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"300"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"runAllTimers"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"minimumViewTime"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"350"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'waitForInteraction blocks callback until interaction'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"waitForInteraction"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"not"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBeCalled"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"recordInteraction"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"20"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"100"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"waitForInteraction"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"it"},{"type":"Punctuator","value":"("},{"type":"String","value":"'returns the right visible row after the underlying data changed'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"ViewabilityHelper"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"jest"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rowFrames"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"a"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"b"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"y"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"400"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"height"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'b'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resetViewableIndices"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"helper"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"onUpdate"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"data"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"getFrameMetrics"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"createViewToken"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toBe"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"expect"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onViewableItemsChanged"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mock"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"calls"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"toEqual"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"changed"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'a'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewabilityConfig"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"viewAreaCoveragePercentThreshold"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"viewableItems"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"isViewable"},{"type":"Punctuator","value":":"},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":":"},{"type":"String","value":"'c'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"}]