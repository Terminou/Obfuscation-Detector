[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"common"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'../common'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'assert'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"net"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'net'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"http"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"require"},{"type":"Punctuator","value":"("},{"type":"String","value":"'http'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"body"},{"type":"Punctuator","value":"="},{"type":"String","value":"'hello world\\n'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"server"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"http"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"createServer"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"let"},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"let"},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":"="},{"type":"String","value":"''"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"server"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"listen"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"server"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"on"},{"type":"Punctuator","value":"("},{"type":"String","value":"'listening'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"net"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"createConnection"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"address"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"port"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"setEncoding"},{"type":"Punctuator","value":"("},{"type":"String","value":"'utf8'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"on"},{"type":"Punctuator","value":"("},{"type":"String","value":"'connect'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"write"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"on"},{"type":"Punctuator","value":"("},{"type":"String","value":"'data'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"chunk"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":"+="},{"type":"Identifier","value":"chunk"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"on"},{"type":"Punctuator","value":"("},{"type":"String","value":"'end'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"common"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"mustCall"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"c"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"end"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"server"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"close"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersion"},{"type":"Punctuator","value":","},{"type":"String","value":"'1.0'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersionMajor"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersionMinor"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"writeHead"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"String","value":"'Content-Type'"},{"type":"Punctuator","value":":"},{"type":"String","value":"'text/plain'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"end"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"body"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"String","value":"'GET / HTTP/1.0\\r\\n\\r\\n'"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"timed_out"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"m"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"split"},{"type":"Punctuator","value":"("},{"type":"String","value":"'\\r\\n\\r\\n'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"m"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"body"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"timed_out"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersion"},{"type":"Punctuator","value":","},{"type":"String","value":"'1.0'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersionMajor"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersionMinor"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"sendDate"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"writeHead"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"String","value":"'Content-Type'"},{"type":"Punctuator","value":":"},{"type":"String","value":"'text/plain'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"write"},{"type":"Punctuator","value":"("},{"type":"String","value":"'Hello, '"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"_send"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"write"},{"type":"Punctuator","value":"("},{"type":"String","value":"'world!'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"_send"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"end"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":"("},{"type":"String","value":"'GET / HTTP/1.0\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'User-Agent: curl/7.19.7 (x86_64-pc-linux-gnu) libcurl/7.19.7 '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Host: 127.0.0.1:1337\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Accept: */*\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'\\r\\n'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"timed_out"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"expected_response"},{"type":"Punctuator","value":"="},{"type":"String","value":"'HTTP/1.1 200 OK\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Content-Type: text/plain\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Connection: close\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Hello, world!'"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"expected_response"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"timed_out"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersion"},{"type":"Punctuator","value":","},{"type":"String","value":"'1.1'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersionMajor"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"req"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"httpVersionMinor"},{"type":"Punctuator","value":","},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"sendDate"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"writeHead"},{"type":"Punctuator","value":"("},{"type":"Numeric","value":"200"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"String","value":"'Content-Type'"},{"type":"Punctuator","value":":"},{"type":"String","value":"'text/plain'"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"write"},{"type":"Punctuator","value":"("},{"type":"String","value":"'Hello, '"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"_send"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"write"},{"type":"Punctuator","value":"("},{"type":"String","value":"'world!'"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"_send"},{"type":"Punctuator","value":"("},{"type":"String","value":"''"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"res"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"end"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"String","value":"'GET / HTTP/1.1\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'User-Agent: curl/7.19.7 (x86_64-pc-linux-gnu) libcurl/7.19.7 '"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'OpenSSL/0.9.8k zlib/1.2.3.3 libidn/1.15\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Connection: close\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Host: 127.0.0.1:1337\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Accept: */*\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'\\r\\n'"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"timed_out"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"const"},{"type":"Identifier","value":"expected_response"},{"type":"Punctuator","value":"="},{"type":"String","value":"'HTTP/1.1 200 OK\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Content-Type: text/plain\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Connection: close\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Transfer-Encoding: chunked\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'7\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'Hello, \\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'6\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'world!\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'0\\r\\n'"},{"type":"Punctuator","value":"+"},{"type":"String","value":"'\\r\\n'"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"server_response"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"expected_response"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"client_got_eof"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"assert"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"strictEqual"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"timed_out"},{"type":"Punctuator","value":","},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"test"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"handler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"request_generator"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"response_validator"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"}]