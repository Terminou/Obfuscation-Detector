[{"type":"String","value":"'use strict'"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"$QProvider"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$get"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"String","value":"'$rootScope'"},{"type":"Punctuator","value":","},{"type":"String","value":"'$exceptionHandler'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"$exceptionHandler"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"qFactory"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$rootScope"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$evalAsync"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"$exceptionHandler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isDefined"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"$$QProvider"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$get"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"String","value":"'$browser'"},{"type":"Punctuator","value":","},{"type":"String","value":"'$exceptionHandler'"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"$browser"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"$exceptionHandler"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"qFactory"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$browser"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"defer"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"$exceptionHandler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isDefined"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"qFactory"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"nextTick"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"exceptionHandler"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"$qMinErr"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"minErr"},{"type":"Punctuator","value":"("},{"type":"String","value":"'$q'"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"TypeError"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"queueSize"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"checkQueue"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"defer"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Deferred"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"Deferred"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"notify"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"notifyPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":":"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"extend"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prototype"},{"type":"Punctuator","value":","},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":":"},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onFulfilled"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onRejected"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isUndefined"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onFulfilled"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"isUndefined"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"onRejected"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"isUndefined"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"||"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onFulfilled"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"onRejected"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":">"},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Identifier","value":"scheduleProcessQueue"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"String","value":"'catch'"},{"type":"Punctuator","value":":"},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Null","value":"null"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"String","value":"'finally'"},{"type":"Punctuator","value":":"},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Keyword","value":"this"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"handleCallback"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"error"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"handleCallback"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"error"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"processQueue"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"processScheduled"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"undefined"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"try"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"for"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"ii"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"<"},{"type":"Identifier","value":"ii"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"++"},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"markQStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"try"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isFunction"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"fn"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"catch"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$passToExceptionHandler"},{"type":"Punctuator","value":"==="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"exceptionHandler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"finally"},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"--"},{"type":"Identifier","value":"queueSize"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"queueSize"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"nextTick"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"processChecks"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"processChecks"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"while"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"queueSize"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"checkQueue"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"toCheck"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"checkQueue"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"shift"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"isStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"toCheck"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"markQStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"toCheck"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"errorMessage"},{"type":"Punctuator","value":"="},{"type":"String","value":"'Possibly unhandled rejection: '"},{"type":"Punctuator","value":"+"},{"type":"Identifier","value":"toDebugString"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"toCheck"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isError"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"toCheck"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"exceptionHandler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"toCheck"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"errorMessage"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"exceptionHandler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"errorMessage"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"scheduleProcessQueue"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"errorOnUnhandledRejections"},{"type":"Punctuator","value":"&&"},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":"&&"},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"isStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"queueSize"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"checkQueue"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"nextTick"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"processChecks"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"checkQueue"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"push"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"processScheduled"},{"type":"Punctuator","value":"||"},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":")"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"processScheduled"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"++"},{"type":"Identifier","value":"queueSize"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"nextTick"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"processQueue"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":")"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":"==="},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$$reject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"$qMinErr"},{"type":"Punctuator","value":"("},{"type":"String","value":"'qcycle'"},{"type":"Punctuator","value":","},{"type":"String","value":"'Expected promise to be resolved with value other than itself \\'{0}\\''"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"$$resolve"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"$$resolve"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"done"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"false"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"try"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isObject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"||"},{"type":"Identifier","value":"isFunction"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isFunction"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"="},{"type":"Punctuator","value":"-"},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"call"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"doResolve"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"doReject"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"doNotify"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"1"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"scheduleProcessQueue"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"catch"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"doReject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"doResolve"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"done"},{"type":"Punctuator","value":")"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"done"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$$resolve"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"doReject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"done"},{"type":"Punctuator","value":")"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"done"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$$reject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"val"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"doNotify"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"notifyPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":")"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$$reject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"$$reject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"2"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"scheduleProcessQueue"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"notifyPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"callbacks"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pending"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"status"},{"type":"Punctuator","value":"<="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"callbacks"},{"type":"Punctuator","value":"&&"},{"type":"Identifier","value":"callbacks"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"nextTick"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"for"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"ii"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"callbacks"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"length"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"<"},{"type":"Identifier","value":"ii"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"++"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"callbacks"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"callbacks"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"i"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"["},{"type":"Numeric","value":"3"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"try"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"notifyPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"isFunction"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"?"},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":":"},{"type":"Identifier","value":"progress"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"catch"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"exceptionHandler"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"handleCallback"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"callbackOutput"},{"type":"Punctuator","value":"="},{"type":"Null","value":"null"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"try"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isFunction"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Identifier","value":"callbackOutput"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"catch"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"e"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"isPromiseLike"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callbackOutput"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"callbackOutput"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"else"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"when"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"errback"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"callback"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"errback"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"progressBack"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"when"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"all"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"counter"},{"type":"Punctuator","value":"="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"results"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"isArray"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"?"},{"type":"Punctuator","value":"["},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":":"},{"type":"Punctuator","value":"{"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"forEach"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"counter"},{"type":"Punctuator","value":"++"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"when"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"results"},{"type":"Punctuator","value":"["},{"type":"Identifier","value":"key"},{"type":"Punctuator","value":"]"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"--"},{"type":"Identifier","value":"counter"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"results"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"counter"},{"type":"Punctuator","value":"==="},{"type":"Numeric","value":"0"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"results"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"result"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"race"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"deferred"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"defer"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"forEach"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promises"},{"type":"Punctuator","value":","},{"type":"Keyword","value":"function"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"when"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"then"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"deferred"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"deferred"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"deferred"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"isFunction"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"throw"},{"type":"Identifier","value":"$qMinErr"},{"type":"Punctuator","value":"("},{"type":"String","value":"'norslvr'"},{"type":"Punctuator","value":","},{"type":"String","value":"'Expected resolverFn, got \\'{0}\\''"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"var"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":"="},{"type":"Keyword","value":"new"},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"("},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"resolveFn"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"resolvePromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"value"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"rejectFn"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"rejectPromise"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"reason"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"resolver"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"resolveFn"},{"type":"Punctuator","value":","},{"type":"Identifier","value":"rejectFn"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"promise"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prototype"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"Promise"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"prototype"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"defer"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"defer"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"reject"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"when"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"when"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"resolve"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"all"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"all"},{"type":"Punctuator","value":";"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"race"},{"type":"Punctuator","value":"="},{"type":"Identifier","value":"race"},{"type":"Punctuator","value":";"},{"type":"Keyword","value":"return"},{"type":"Identifier","value":"$Q"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"isStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"return"},{"type":"Punctuator","value":"!"},{"type":"Punctuator","value":"!"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pur"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"markQStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"state"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"pur"},{"type":"Punctuator","value":"="},{"type":"Boolean","value":"true"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Keyword","value":"function"},{"type":"Identifier","value":"markQExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"q"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Keyword","value":"if"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":"{"},{"type":"Identifier","value":"markQStateExceptionHandled"},{"type":"Punctuator","value":"("},{"type":"Identifier","value":"q"},{"type":"Punctuator","value":"."},{"type":"Identifier","value":"$$state"},{"type":"Punctuator","value":")"},{"type":"Punctuator","value":";"},{"type":"Punctuator","value":"}"},{"type":"Punctuator","value":"}"}]